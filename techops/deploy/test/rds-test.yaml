# Root File for non cdn based cloud formation template
#
AWSTemplateFormatVersion: '2010-09-09'
Description: "TEst CF Custom type for API Gateway custom domain"
Parameters:
  ParamDBName:
    Type: String
    Default: ParamApiDomainName-test
  ParamDBMAsterUsername:
    Type: String
    Default: ParamCertificateName-test
  ParamDBMasterPassword:
    Type: String
    Default: ParamCertificateBody-test
  ParamDBInstanceClass:
    Type: String
    Default: ParamCertificateChain-test
  ParamDBAllocatedStorage:
    Type: String
    Default: ParamCertificatePrivateKey-test


Resources:

  ResourceMyVPC
  ResourceSubnetGroup1
  ResourceSubnetGroup2
  ResourceInternetGateway
  ResourceMyDBSecurityGroup:

  ResourceDBInstance:
    Properties:
      DBSecurityGroups:
      - Ref: ResourceMyDBSecurityGroup
      AllocatedStorage: '5'
      DBInstanceClass: db.t2.micro
      Engine: PostgreSQL
      EngineVersion: 9.5.4
      StorageType: gp2 # General Purpose SSD
      AllocatedStorage: 20
      DBInstanceIdentifier: My DB Name
      MasterUsername: MyUsername
      MasterUserPassword: MyPassword
    DeletionPolicy: Snapshot
